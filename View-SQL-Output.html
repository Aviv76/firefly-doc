<!DOCTYPE html>
<html lang="en" class="js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta charset="utf-8" />

    <title>Introduction</title>
    
    <link rel="stylesheet" href="assets/css/prism.css" />
    <link rel="stylesheet" href="assets/css/prism-csdiff.css" />
    
    <link rel="stylesheet" href="assets/css/theme.css" />
    <link rel="stylesheet" href="assets/css/theme_extra.css" />
    <link rel="stylesheet" href="assets/css/theme_firefly.css" />
    <link rel="stylesheet" href="assets/css/highlight.css" />
    <link rel="stylesheet" href="assets/css/mermaid.css" />
</head>
<body class="markdown-body" role="document">
    <div class="wy-grid-for-nav">
        <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
            <div class="wy-side-nav-search-ff">
                <a href="" class="test">  <img src="assets/img/logo-big.png"></a>
            </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1 "><a class="" href="">Home</a></li>
                    <li class="toctree-l1">
    <ul class="subnav">
        <li><span>dev docs</span></li>
        <li class="toctree-l1">
            <ul class="subnav">
                <li><span>guide</span></li>
                <li class="toctree-l1">
                    <ul class="subnav">
                        <li><span>An introduction to NET</span></li>
                        <li class="toctree-l1">
                            <ul class="subnav">
                                <li><span>Intro</span></li>
                                <li  class="toctree-l1"><a href="NET-Framework-Overview.html">NET Framework Overview</a></li>
                                <li  class="toctree-l1"><a href="Visual-Studio-and-CSharp-Overview.html">Visual Studio and CSharp Overview</a></li>
                                <li  class="toctree-l1"><a href="Create-a-simple-class.html">Create a simple class</a></li>
                                <li  class="toctree-l1"><a href="Explaining-The-Hello-world-example.html">Explaining The Hello world example</a></li>
                                <li  class="toctree-l1"><a href="Method-Arguments-and-Overloading.html">Method Arguments and Overloading</a></li>
                                <li  class="toctree-l1"><a href="Using-directives.html">Using directives</a></li>
                                <li  class="toctree-l1"><a href="Snippets.html">Snippets</a></li>
                                <li  class="toctree-l1"><a href="Comments.html">Comments</a></li>
                                <li  class="toctree-l1"><a href="Hello-csharp-exercise.html">Hello csharp exercise</a></li>
                            </ul>
                        </li>
                        <li class="toctree-l1">
                            <ul class="subnav">
                                <li  class="toctree-l1"><a href="Simple-data-types.html">Simple data types</a></li>
                                <li  class="toctree-l1"><a href="More-on-strings.html">More on strings</a></li>
                                <li  class="toctree-l1"><a href="Data-Types-Exercise.html">Data Types Exercise</a></li>
                            </ul>
                        </li>
                        <li class="toctree-l1">
                            <ul class="subnav">
                                <li  class="toctree-l1"><a href="Operators.html">Operators</a></li>
                                <li  class="toctree-l1"><a href="Operators-Exercise.html">Operators Exercise</a></li>
                            </ul>
                        </li>
                        <li class="toctree-l1">
                            <ul class="subnav">
                                <li  class="toctree-l1"><a href="More-On-Classes.html">More On Classes</a></li>
                                <li  class="toctree-l1"><a href="Constructor-Static_ReadOnly.html">Constructor Static_ReadOnly</a></li>
                            </ul>
                        </li>
                        <li  class="toctree-l1"><a href="student-notes.html">student notes</a></li>
                    </ul>
                </li>
                <li class="toctree-l1">
                    <ul class="subnav">
                        <li  class="toctree-l1"><a href="Getting-the-code-for-the-first-time.html">Getting the code for the first time</a></li>
                    </ul>
                </li>
                <li class="toctree-l1">
                    <ul class="subnav">
                        <li><span>Visual Studio Configuration</span></li>
                        <li  class="toctree-l1"><a href="file.html">file</a></li>
                    </ul>
                </li>
                <li  class="toctree-l1"><a href="using-version-control.html">using version control</a></li>
            </ul>
        </li>
        <li class="toctree-l1">
            <ul class="subnav">
                <li  class="toctree-l1"><a href="reference.html">reference</a></li>
                <li class="toctree-l1">
                    <ul class="subnav">
                        <li><span>Articles</span></li>
                        <li  class="toctree-l1"><a href="Automatic-Migration-Using-FTP.html">Automatic Migration Using FTP</a></li>
                        <li  class="toctree-l1"><a href="Error-report-guide.html">Error report guide</a></li>
                        <li  class="toctree-l1"><a href="Relations-in-depth.html">Relations in depth</a></li>
                        <li  class="toctree-l1"><a href="shoulddeterminenameaccordingtocallstack.html">shoulddeterminenameaccordingtocallstack</a></li>
                        <li  class="toctree-l1"><a href="Understanding-Error-Message-Details.html">Understanding Error Message Details</a></li>
                        <li  class="toctree-l1"><a href="Using-issue-tracker.html">Using issue tracker</a></li>
                        <li  class="toctree-l1"><a href="Using-Log-Files.html">Using Log Files</a></li>
                        <li  class="toctree-l1 current-page"><a href="View-SQL-Output.html">View SQL Output</a></li>
                    </ul>
                </li>
                <li class="toctree-l1">
                    <ul class="subnav">
                        <li><span>Comparing Migrated Code with Magic</span></li>
                        <li class="toctree-l1">
                            <ul class="subnav">
                                <li><span>eDevelopper</span></li>
                                <li  class="toctree-l1"><a href="Task-Properties.html">Task Properties</a></li>
                                <li  class="toctree-l1"><a href="Task-Control.html">Task Control</a></li>
                                <li  class="toctree-l1"><a href="IO-Files.html">IO Files</a></li>
                                <li  class="toctree-l1"><a href="DB-Tables.html">DB Tables</a></li>
                                <li  class="toctree-l1"><a href="Range-Locate.html">Range Locate</a></li>
                                <li  class="toctree-l1"><a href="The-Sort.html">The Sort</a></li>
                                <li  class="toctree-l1"><a href="Operations.html">Operations</a></li>
                                <li  class="toctree-l1"><a href="State-Comparison.html">State Comparison</a></li>
                                <li  class="toctree-l1"><a href="Handlers.html">Handlers</a></li>
                            </ul>
                        </li>
                        <li class="toctree-l1">
                            <ul class="subnav">
                                <li><span>Unipaas</span></li>
                                <li  class="toctree-l1"><a href="task-properties-unipaas.html">task properties unipaas</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li class="toctree-l1">
                    <ul class="subnav">
                        <li><span>Refactoring</span></li>
                        <li  class="toctree-l1"><a href="Building-a-generic-GetName-method.html">Building a generic GetName method</a></li>
                        <li  class="toctree-l1"><a href="Obtaining-category-name-based-on-CategoryID.html">Obtaining category name based on CategoryID</a></li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
</li>


                </ul>
            </div>
            &nbsp;
        </nav>
        <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
            <div class="wy-nav-content">
                <div class="rst-content">
                    <div role="main">
                        <a href="Using-Log-Files.html"class="btn btn-neutral float-left">Previous</a> <a href="Task-Properties.html"class="btn btn-neutral float-right">Next</a><br /><br />
                        <div class="section"><h1 id="introduction">Introduction</h1>
<p>This article deals with how to view SQL statements in the Output Window of the Visual Studio IDE, which represents the interaction between the application and the database. Its very helpful to be able to actually see the SQL statements that are being executed by any program, to be able to optimize performance efficiently.</p>
<h1 id="viewing-the-sql">Viewing the SQL</h1>
<p>To view the generated SQL code in the Output window, add the following line to the Main method in Program.cs:</p>
<pre><code class="language-csharp">ENV.Data.DataProvider.ConnectionManager.DatabaseLogToDebugOutput = true;
</code></pre>
<p>Here we see the line within the context of the code</p>
<pre><code class="language-csharp">public static void Main(System.String[] args)
{
        System.Windows.Forms.Application.EnableVisualStyles();
        System.Windows.Forms.Application.SetCompatibleTextRenderingDefault(false);
        ENV.AbstractUIController.BackwardCompatibleFilterUI = true;
        ENV.Commands.SetDefaultKeyboardMapping();
        ENV.Commands.SetVersion9CompatibleKeyMapping();
        ENV.UserSettings.FixedBackColorInNonFlatStyles = true;
 
 
        ENV.Data.DataProvider.ConnectionManager.DatabaseLogToDebugOutput = true; // Instructs ENV to write the SQL code to the output window
 
 
        ENV.Data.DataProvider.ConnectionManager.UseDBParameters = false;
        ENV.UserSettings.InitUserSettings(&quot;Northwind.ini&quot;, args);
        ENV.Data.DateColumn.GlobalDefault = new Date(1901,1,1);
        Application.Run();
        ENV.UserSettings.FinilizeINI();
    }
</code></pre>
<p>Now, before running the application, on the View menu, click Output. This opens the Output window, containing the generated SQLcode to be viewed.</p>
<p>An example of the SQL code generated in the Output window, appears below:</p>
<pre><code class="language-csharp">ExecuteReader Duration: 0
ExecuteNonQuery - sp_cursorprepexec
 
 
Query Parameters:
@handle(Int32) = 
@cursor(Int32) = 
@paramdef(String) = 
@stmt(String) = 
SELECT ProductID, ProductName, SupplierID, CategoryID, QuantityPerUnit, UnitPrice, UnitsInStock, UnitsOnOrder, ReorderLevel, Discontinued 
FROM dbo.Products 
ORDER BY ProductID
@scrollopt(Int32) = 135170
@ccopt(Int32) = 8193
@rowcount(Int32) = 
 
 
ExecuteNonQuery Duration: 0
</code></pre>
<p>An example of the SQL output for a FIND relation (see also: :<a href="Relations-in-depth.html">relations in depth</a> ) will look as follows:</p>
<pre><code class="language-csharp">ExecuteReader Duration: 0
ExecuteReader - 
SELECT CategoryID, CategoryName, Description 
FROM dbo.Categories 
WHERE CategoryID = @0
 
Query Parameters:
@0(Int32) = 0
</code></pre>
<p>Looking at the above SQL notation, we can see that it uses SQLparameters for the CategoryID value. This is more efficient SQL usage, but a bit harder to read.</p>
<p>In order to make the SQL more readable, we'll add the following line of code in the the Main method, immediately after the previously added line:</p>
<pre><code class="language-csharp">ENV.Data.DataProvider.ConnectionManager.UseDBParameters = false;
</code></pre>
<p>The generated SQL code for a FIND relation, as shown in the Output window will now look as follows, without the last 2 lines referring to query parameters :</p>
<pre><code class="language-csharp">ExecuteReader Duration: 0
ExecuteReader - 
SELECT top 1 CategoryID, CategoryName, Description 
FROM dbo.Categories 
WHERE CategoryID = 0 
 
ExecuteReader Duration: 0
</code></pre>
<hr />
<h1 id="execution-duration">Execution Duration</h1>
<p>Sometimes we are interested in the time it takes to execute a query, so, for every query that is executed, it's duration (in ms.) is reported immediately afterwards.</p>
<h2 id="tip">Tip</h2>
<p>When examining the time it takes for queries to execute, we look for queries whose execution time is lengthy. Reading each and every query's duration can be tedious and time consuming, so for ease of use, dots are added between the Duration and the ”:” character in terms of the execution time. The more dots there are, the longer the query is.</p>
<ul>
<li>For queries under 10 ms, no dot's will appear.</li>
<li>For queries under 20 ms, one dot will appear - for example “Duration.:15</li>
<li>For queries under 50 ms, two dots will appear.</li>
<li>For queries under 100 ms, three dots will appear.</li>
<li>For queries under 200 ms, four dots will appear.</li>
<li>For queries under 500 ms, five dots will appear.</li>
<li>For queries under 1000 ms (One second) six dots will appear.
And for queries over 1000 ms, seven dots will appear.
Now if I want to search for queries that take more then 100 ms, I just need to search for “Duration….” and find such queries.</li>
</ul>
<p>This is useful to find bottle necks of unoptimized queries that can then be improved using indexes etc.</p>
</div>
                        
                        <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
                            <a href="Using-Log-Files.html"class="btn btn-neutral float-left">Previous</a> <a href="Task-Properties.html"class="btn btn-neutral float-right">Next</a>
                        </div>
                        
                        
                    </div>
                </div>
            </div>
        </section>

    </div>
    
    <script src="assets/js/prism.js"></script>
    <script src="assets/js/prism-csdiff.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/theme.js"></script>
    <script src="assets/js/mermaid.js"></script>
</body>
</html>