<!DOCTYPE html>
<html lang="en" class="js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta charset="utf-8" />

    <title>Introduction</title>
    
    <link rel="stylesheet" href="assets/css/prism.css" />
    <link rel="stylesheet" href="assets/css/prism-csdiff.css" />
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    
    <link rel="stylesheet" href="assets/css/theme.css" />
    <link rel="stylesheet" href="assets/css/theme_extra.css" />
    <link rel="stylesheet" href="assets/css/theme_firefly.css" />
</head>
<body class="wy-body-for-nav" role="document">
    <div class="wy-grid-for-nav">
        <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
            <div class="wy-side-nav-search-ff">
                <a href="" class="test">  <img src="assets/img/logo-big.png"></a>
            </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1 "><a class="" href="">Home</a></li>
                    <li class="toctree-l1">
    <ul class="subnav">
        <li><span>dev docs</span></li>
        <li class="toctree-l1">
            <ul class="subnav">
                <li><span>guide</span></li>
                <li class="toctree-l1">
                    <ul class="subnav">
                        <li><span>An introduction to NET</span></li>
                        <li class="toctree-l1">
                            <ul class="subnav">
                                <li><span>Intro</span></li>
                                <li  class="toctree-l1"><a href="NET-Framework-Overview.html">NET Framework Overview</a></li>
                                <li  class="toctree-l1"><a href="Visual-Studio-and-CSharp-Overview.html">Visual Studio and CSharp Overview</a></li>
                                <li  class="toctree-l1"><a href="Create-a-simple-class.html">Create a simple class</a></li>
                                <li  class="toctree-l1"><a href="Explaining-The-Hello-world-example.html">Explaining The Hello world example</a></li>
                                <li  class="toctree-l1"><a href="Method-Arguments-and-Overloading.html">Method Arguments and Overloading</a></li>
                                <li  class="toctree-l1"><a href="Using-directives.html">Using directives</a></li>
                                <li  class="toctree-l1"><a href="Snippets.html">Snippets</a></li>
                                <li  class="toctree-l1"><a href="Comments.html">Comments</a></li>
                                <li  class="toctree-l1"><a href="Hello-csharp-exercise.html">Hello csharp exercise</a></li>
                            </ul>
                        </li>
                        <li class="toctree-l1">
                            <ul class="subnav">
                                <li  class="toctree-l1"><a href="Simple-data-types.html">Simple data types</a></li>
                                <li  class="toctree-l1"><a href="More-on-strings.html">More on strings</a></li>
                                <li  class="toctree-l1"><a href="Data-Types-Exercise.html">Data Types Exercise</a></li>
                            </ul>
                        </li>
                        <li class="toctree-l1">
                            <ul class="subnav">
                                <li  class="toctree-l1"><a href="Operators.html">Operators</a></li>
                                <li  class="toctree-l1"><a href="Operators-Exercise.html">Operators Exercise</a></li>
                            </ul>
                        </li>
                        <li class="toctree-l1">
                            <ul class="subnav">
                                <li  class="toctree-l1"><a href="More-On-Classes.html">More On Classes</a></li>
                                <li  class="toctree-l1"><a href="Constructor-Static_ReadOnly.html">Constructor Static_ReadOnly</a></li>
                            </ul>
                        </li>
                        <li  class="toctree-l1"><a href="student-notes.html">student notes</a></li>
                    </ul>
                </li>
                <li class="toctree-l1">
                    <ul class="subnav">
                        <li  class="toctree-l1"><a href="Getting-the-code-for-the-first-time.html">Getting the code for the first time</a></li>
                    </ul>
                </li>
                <li class="toctree-l1">
                    <ul class="subnav">
                        <li><span>Visual Studio Configuration</span></li>
                        <li  class="toctree-l1"><a href="file.html">file</a></li>
                    </ul>
                </li>
                <li  class="toctree-l1"><a href="using-version-control.html">using version control</a></li>
            </ul>
        </li>
        <li class="toctree-l1">
            <ul class="subnav">
                <li  class="toctree-l1"><a href="reference.html">reference</a></li>
                <li class="toctree-l1">
                    <ul class="subnav">
                        <li><span>Articles</span></li>
                        <li  class="toctree-l1"><a href="Automatic-Migration-Using-FTP.html">Automatic Migration Using FTP</a></li>
                        <li  class="toctree-l1"><a href="error_report_guide.html">error_report_guide</a></li>
                        <li  class="toctree-l1"><a href="relations_in_depth.html">relations_in_depth</a></li>
                        <li  class="toctree-l1"><a href="shoulddeterminenameaccordingtocallstack.html">shoulddeterminenameaccordingtocallstack</a></li>
                        <li  class="toctree-l1"><a href="Understanding-Error-Message-Details.html">Understanding Error Message Details</a></li>
                    </ul>
                </li>
                <li class="toctree-l1">
                    <ul class="subnav">
                        <li><span>Comparing Migrated Code with Magic</span></li>
                        <li class="toctree-l1">
                            <ul class="subnav">
                                <li><span>eDevelopper</span></li>
                                <li  class="toctree-l1"><a href="Task-Properties.html">Task Properties</a></li>
                                <li  class="toctree-l1"><a href="Task-Control.html">Task Control</a></li>
                                <li  class="toctree-l1"><a href="IO-Files.html">IO Files</a></li>
                                <li  class="toctree-l1"><a href="DB-Tables.html">DB Tables</a></li>
                                <li  class="toctree-l1"><a href="Range-Locate.html">Range Locate</a></li>
                                <li  class="toctree-l1"><a href="The-Sort.html">The Sort</a></li>
                                <li  class="toctree-l1"><a href="Operations.html">Operations</a></li>
                                <li  class="toctree-l1 current-page"><a href="State-Comparison.html">State Comparison</a></li>
                                <li  class="toctree-l1"><a href="Handlers.html">Handlers</a></li>
                            </ul>
                        </li>
                        <li class="toctree-l1">
                            <ul class="subnav">
                                <li><span>Unipaas</span></li>
                                <li  class="toctree-l1"><a href="task-properties-unipaas.html">task properties unipaas</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
</li>


                </ul>
            </div>
            &nbsp;
        </nav>
        <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
            <div class="wy-nav-content">
                <div class="rst-content">
                    <div role="main">
                        <a href="Operations.html"class="btn btn-neutral float-left">Previous</a> <a href="Handlers.html"class="btn btn-neutral float-right">Next</a><br /><br />
                        <div class="section"><h1 id="introduction">Introduction</h1>
<p>This article is one of a series of articles aimed at providing further orientation with the migrated code for Magic programmers. This time we will look at the different States as they appear in eDeveloper (version 9) and show the equivalent representation of each setting in the migrated code.</p>
<p>We will discuss Online and Batch task types. Both share common states and each also has unique states of its own. The following table shows the syntax in .Net for each magic state.</p>
<table>
<thead>
<tr>
<th>Magic Name</th>
<th>Migrated Code Name</th>
<th>Occurs in</th>
</tr>
</thead>
<tbody>
<tr>
<td>Properties</td>
<td>OnLoad</td>
<td>UIController, BusinessProcess</td>
</tr>
<tr>
<td>TaskPrefix</td>
<td>OnStart</td>
<td>UIController, BusinessProcess</td>
</tr>
<tr>
<td>TaskSuffix</td>
<td>OnEnd</td>
<td>UIController, BusinessProcess</td>
</tr>
<tr>
<td>RecordPrefix</td>
<td>OnEnterRow</td>
<td>UIController, BusinessProcess</td>
</tr>
<tr>
<td>RecordSuffix</td>
<td>OnSavingRow</td>
<td>UIController, BusinessProcess</td>
</tr>
<tr>
<td></td>
<td>OnLeaveRow</td>
<td>BusinessProcess only</td>
</tr>
<tr>
<td>GroupPrefix</td>
<td>delegate call</td>
<td>BusinessProcess only</td>
</tr>
<tr>
<td>GroupSuffix</td>
<td>delegate call</td>
<td>BusinessProcess only</td>
</tr>
<tr>
<td>Control Prefix</td>
<td>.Net Event</td>
<td>UIController only</td>
</tr>
<tr>
<td>Control Suffix</td>
<td>.Net Event</td>
<td>UIController only</td>
</tr>
<tr>
<td>Control Verification</td>
<td>.Net Event</td>
<td>UIController only</td>
</tr>
<tr>
<td>Control Change</td>
<td>.Net Event</td>
<td>UIController only</td>
</tr>
<tr>
<td>Handler</td>
<td>.Net Method</td>
<td>UIController, BusinessProcess</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="online-states">Online States</h2>
<p>Let's first look at an example of a screen displaying different Online states:</p>
<p><img src="states_online.jpg" alt="Online states" /></p>
<h3 id="load-properties">Load Properties</h3>
<p>This refers to all properties that appear in screens such as Ctrl+P (Task Properties), Ctrl+C (Task Control), Ctrl+I (Media Properties), etc.</p>
<p>Name in Migrated Code: <strong>OnLoad Method</strong><br />
Example:</p>
<pre><code class="language-csharp">protected override void OnLoad()
{
   AllowSelect = true;
   Activity = Activities.Browse;  
}
</code></pre>
<h3 id="task-prefix">Task Prefix</h3>
<p>Name in Migrated Code: <strong>OnStart Method</strong><br />
Example:</p>
<pre><code class="language-csharp">protected override void OnStart()
{
     v_myNumberColumnField.Value = 0;
      u.DBDel(typeof(Model.myFileName), &quot;&quot;);
}
</code></pre>
<h3 id="task-suffix">Task Suffix</h3>
<p>Name in Migrated Code: <strong>OnEnd Method</strong><br />
Example:</p>
<pre><code class="language-csharp">protected override void OnEnd()
{
     _taskresult = vMyValue;
     new ClosingMethod().Run();
}
</code></pre>
<h3 id="record-prefix">Record Prefix</h3>
<p>Name in Migrated Code: <strong>OnEnterRow Method</strong><br />
Example:</p>
<pre><code class="language-csharp">protected override void OnEnterRow()
{
     new MethodtoRUnBeforeEachEachRow().Run();
}
</code></pre>
<h3 id="record-suffix">Record Suffix</h3>
<p>Name in Migrated Code: <strong>OnSavingRow Method</strong></p>
<h3 id="record-main">Record Main</h3>
<p>Name in Migrated Code: <strong>Constructor and Run Method</strong><br />
Example:</p>
<pre><code class="language-csharp">/// &lt;summary&gt;ShowProducts(P#10)&lt;/summary&gt;
public ShowProducts()
{
    Title = &quot;ShowProducts&quot;;
    InitializeDataViewAndUserFlow();
}
void InitializeDataViewAndUserFlow()
{
    From = Products;
    OrderBy.Add(Products.ProductName);
    OrderBy.Add(Products.UnitPrice, SortDirection.Descending);
    // parameter for selection task
    Columns.Add(pi_ProdID);
    Columns.Add(Products.ProductID);
    Columns.Add(Products.ProductName);
    Columns.Add(Products.UnitPrice);
    Columns.Add(stam);
    }
    /// &lt;summary&gt;Run&lt;/summary&gt;
    /// &lt;param name=&quot;ppi_ProdID&quot;&gt;pi.Prod ID&lt;/param&gt;
    public void Run(NumberParameter ppi_ProdID)
    {
       BindParameter(pi_ProdID, ppi_ProdID);
       Execute();
    }
</code></pre>
<h3 id="controls">Controls</h3>
<p>Name in Migrated Code: <strong>User Defined Method</strong><br />
Location in Migrated code: Controls handlers section, (after the Expressions section)<br />
Controls obviously appear only in UIController code and can have the following four states:</p>
<h4 id="control-prefix">Control Prefix</h4>
<p>Methods of this type in the migrated code have names ending with <strong>_Enter</strong></p>
<p>Example:</p>
<pre><code class="language-csharp">#region Controls handlers
internal void txtCustomers_CustomerID_Enter()
{
   //code
}
#endregion
</code></pre>
<h4 id="control-suffix">Control Suffix</h4>
<p>Methods of this type in the migrated code have names ending with <strong>_Leave</strong></p>
<p>Example:</p>
<pre><code class="language-csharp">#region Controls handlers
internal void txtCustomers_CustomerID_Leave()
{
   //code
}
#endregion
</code></pre>
<h4 id="control-verification">Control Verification</h4>
<p>Methods of this type in the migrated code have names ending with <strong>_InputValidation</strong></p>
<p>Example:</p>
<pre><code class="language-csharp">#region Controls handlers
internal void txtCustomers_CustomerID_InputValidation()
{
   //code
}
#endregion
</code></pre>
<h4 id="control-change">Control Change</h4>
<p>Methods of this type in the migrated code have names ending with <strong>_Change</strong></p>
<p>Example:</p>
<pre><code class="language-csharp">#region Controls handlers
internal void txtCustomers_CustomerID_Change()
{
   //code
}
#endregion
</code></pre>
<hr />
<h2 id="batch-states">Batch States</h2>
<p>Now let's look at an example of a screen displaying different Batch states.</p>
<p><img src="states_batch.jpg" alt="Batch states" /></p>
<p>Most of these states are the same as the Online ones, with the exception of the following:</p>
<h3 id="record-suffix-1">Record Suffix</h3>
<p>Name in Migrated Code: <strong>OnLeaveRow, OnSavingRow Methods</strong></p>
<p>OnLeaveRow() occurs after leaving every record as opposed to OnSavingRow() which occurs only when data from the record needs to be saved to the Database. Thus, for a record that needs to also be saved to the database, both <strong>OnLeaveRow</strong> and <strong>OnSavingRow</strong> events will occur.</p>
<p>Example: OnLeaveRow:</p>
<pre><code class="language-csharp">protected override void OnLeaveRow()
{
    _layout.Body.WriteTo(_ioPrint_Order);
    if(false)
    {
       StartRun(&quot;dir&quot;, false, System.Diagnostics.ProcessWindowStyle.Normal);
    }
    new ENV.Utilities.FileViewer(&quot;c:\\temp\\test.txt&quot;,new UI.Print_Orders_Browse(this)).Edit();
}
</code></pre>
<h3 id="groups">Groups</h3>
<p>Name in Migrated Code: <strong>Groups.Add() Method</strong>
Location in Migrated code: <strong>constructor</strong></p>
<h4 id="groupprefix">GroupPrefix</h4>
<p>Groups.Add defines the grouping for the selected variables, while groupname.Enter and groupname.Leave represent the GroupPrefix and the GroupSuffix respectively.<br />
Example: First lets look at usage of Groups.Add in the Constructor:</p>
<pre><code class="language-csharp">public Print_Orders()
{
   Title = &quot;Print - Orders&quot;;
   InitializeDataView();
   _layout = new Printing.Print_Orders_Layout(this);
   var Orders_CustomerIDGroup = Groups.Add(Orders.CustomerID);
   Orders_CustomerIDGroup.Enter += Orders_CustomerIDGroup_Enter;
   Orders_CustomerIDGroup.Leave += Orders_CustomerIDGroup_Enter;
}
</code></pre>
<h4 id="groupsuffix">GroupSuffix</h4>
<p>Next, lets look at the delegate method call for the Group Prefix, using Group.Enter:</p>
<pre><code class="language-csharp">void Orders_CustomerIDGroup_Enter()
{
   _layout.CustomerGroupHeader.WriteTo(_ioPrint_Order);
} 
</code></pre>
<p>Finally, lets look at the delegate method call for the Group Suffix, using Group.Leave:</p>
<pre><code class="language-csharp">void Orders_CustomerIDGroup_Leave()
{
   _layout.CustomerGroupFooter.WriteTo(_ioPrint_Order);
} 
</code></pre>
</div>
                        
                        <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
                            <a href="Operations.html"class="btn btn-neutral float-left">Previous</a> <a href="Handlers.html"class="btn btn-neutral float-right">Next</a>
                        </div>
                        
                        
                    </div>
                </div>
            </div>
        </section>

    </div>
    
    <script src="assets/js/prism.js"></script>
    <script src="assets/js/prism-csdiff.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/theme.js"></script>
</body>
</html>