<!DOCTYPE html>
<html lang="en" class="js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta charset="utf-8" />
    <meta name="keywords" content="">

    <title>Now for the View</title>

    <link rel="stylesheet" href="assets/css/toc.css" />
    <link rel="stylesheet" href="assets/css/highlight.css" />
    <link rel="stylesheet" href="assets/css/prism.css" />
    <link rel="stylesheet" href="assets/css/prism-csdiff.css" />


    <link rel="stylesheet" href="assets/css/theme_firefly.css" />
    <link rel="stylesheet" href="assets/css/mermaid.css" />
</head>
<body class="markdown-body" role="document">

    <div class="wrapper">

        <div class="middle">

            <div class="container">

                <div class="content" role="navigation" aria-label="footer navigation">
                    <a id="previousButton" class="btn btn-neutral float-left" style="visibility:hidden">Previous</a> <a id="nextButton" class="btn btn-neutral float-right" style="visibility:hidden">Next</a>
                </div>
                <div class="content"><h1 id="now-for-the-view">Now for the View</h1>
<p>As this article targets developers with little to no MVC background, I’ll use basic HTML. Know that MVC has a lot of helpers that help you write this HTML better, faster and shorter.</p>
<p>As before, I’ll right click on  “View” and select Add View.</p>
<p>Here is the empty View:<br />
<img src="CustomerController_class.png" alt="" /></p>
<p>Note the first line:<br />
<img src="CustomerController_class_first_line.png" alt="" /><br />
This line indicates for the view, that it is based on the “CustomerPoco” object we created earlier, causing it to give us intelisense, and make our lives easier.</p>
<p>Here is the HTML I wrote to display the form that’ll be used to edit the customer:<br />
<img src="CustomerController_source.png" alt="" /><br />
Note that for the Name input I used plain HTML – but for the City, I used the MVC “HTML” helper that’ll generate that HTML for us. When using MVC you can use the built in helpers or create your own to handle the HTML generation.</p>
<p>Here is the result we get when we run this in the browser:<br />
<img src="CustomerController_browser.png" alt="" /><br />
Next, let’s write the code which performs the actual update to the database.
We’ll be using the migrated entities and a business process to perform the update, just like before:<br />
<img src="ActionResult_Update.png" alt="" /><br />
I have highlighted three points:</p>
<ol>
<li>Notice how the parameter is of type CustomerPoco, MVC will help us, and automatically create it with the values that were entered by the user in the form, as long as the names of the “Input” elements match those of the members in the CustomersPoco class.<br />
This is how it looks in debug when a form is submitted:<br />
<img src="ActionResult_Update1.png" alt="" /></li>
<li>This is where we update the customers Entity with the values sent from the form.</li>
<li>This line of code redirects the user to the index page, sending him back to the Customers List.</li>
</ol>
<p>That’s it, we’ve done all the heavy lifting and we got an updatable list.</p>
<p>All we need now is a link on the List page that’ll take us to the update screen.</p>
<p>We’ll go to the “Index.cshtml” page and add the following code:<br />
<img src="CustomerPoco_code.png" alt="" /></p>
<p>Now when we run this, we’ll get:
<img src="CustomerController_browser1.png" alt="" /></p>
<p>And when we click Edit, it’ll take us to the Customer Details page where we can update our customers.<br />
<img src="CustomerController_browser2.png" alt="" /></p>
<br /><hr />Help us improve, <a href="https://github.com/FireflyMigration/firefly-doc/blob/master//02-Development/03-Articles/Web-Development/Using-MVC-with-Migrated-Code/03-Using-POCO-Objects-Based-on-Migrated-Entities/05-Now-for-the-view/index.md">Edit this page on GitHub</a></div><!-- .content -->
                
            </div><!-- .container-->
        
            <aside class="left-sidebar">
                <div class="wy-side-nav-search-ff">
                    <a href="" class="test">  <img src="assets/img/logo-big.png"></a>
                </div><div id="menuTree" style="height:100em"></div>
            </aside><!-- .left-sidebar -->

            <aside class="right-sidebar"></aside><!-- .right-sidebar -->

        </div><!-- .middle-->



    </div>


    <script src="assets/js/mermaid.js"></script>
    <script src="assets/js/prism-start.js"></script>
    <script src="assets/js/prism-clike.js"></script>
    <script src="assets/js/prism-markup.js"></script>
    <script src="assets/js/prism-css.js"></script>
    <script src="assets/js/prism-javascript.js"></script>

    <script src="assets/js/prism-diff.js"></script>
    <script src="assets/js/prism-csdiff.js"></script>
    <script src="assets/js/prism-function.js"></script>

    <script src="assets/js/jquery-3.1.1.js"></script>
    <script src="assets/js/tree.js"></script>
    <script language="javascript">
        buildTree('menuTree', 'Now-for-the-view.html', 'previousButton', 'nextButton');
    </script>
</body>
</html>